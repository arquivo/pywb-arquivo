On this folder there are templates to be used by Pywb.

## logic_frame.html

Even though this configuration is supposed to be unframed, the `logic_frame.html` file is meant to give context-change information to the parent IFF the page is being loaded in an iframe. Otherwise, the frame should look and behave as if it wasn't there. 

Implementing this eliminates the need of having 2 Pywb instances, one framed and one unframed. Instead we can provide only this "unframed" version of pywb and expect this to be called via an iframe if a frame around it is needed (e.g.: banner, side-menus, etc.). This logic frame allows the front-end code to be completely separated from the pywb code, only having to be mindful of the messages that the iframe sends it. 

Pywb also discourages using it in frameless mode for security reasons ([more info](https://pywb.readthedocs.io/en/latest/manual/configuring.html?highlight=framed_replay#framed-vs-frameless-replay)). 

### Messages posted by the logic frame

This frame posts the messages generated by wombat (more info [here](https://pywb.readthedocs.io/en/latest/manual/ui-customization.html?highlight=frame_insert_html#custom-outer-replay-frame) and [here](https://github.com/webrecorder/wombat)). 

There's an additional (non-standard) message implemented that warns the parent as soon as a new page starts being loaded. This message follows the wombat message structure and uses wb_type `'unload'` (unused by wombat). It sends the following information:
 - `url` - URL for the new page being replayed 
 - `ts` - timestamp for the new page being replayed
 - `wb_type` - `'unload'`

Having a message being posted on the `'unload'` event allows the parent to change its context while the page is still loading, providing a better user experience. 

In the future, such an event might be native to wombat, as there's already a [suggestion for its implementation on the wombat github](https://github.com/webrecorder/wombat/issues/76).
